{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/DELL/Desktop/AMIAPP/amiapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { RouterModule } from '@angular/router';\nimport { AuthService } from '../../../core/services/auth.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { ButtonProviders } from '../components/button-providers/button-providers.component';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/form-field\";\nimport * as i2 from \"@angular/material/input\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@angular/common\";\nfunction LogInComponent_mat_error_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"mat-error\");\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const messsage_r1 = ctx.ngIf;\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate(messsage_r1);\n  }\n}\nexport let LogInComponent = /*#__PURE__*/(() => {\n  class LogInComponent {\n    hide = true;\n    formBuilder = inject(FormBuilder);\n    authService = inject(AuthService);\n    router = inject(Router);\n    _snackBar = inject(MatSnackBar);\n    form = this.formBuilder.group({\n      email: this.formBuilder.control('', {\n        validators: [Validators.required, Validators.email],\n        nonNullable: true\n      }),\n      password: this.formBuilder.control('', {\n        validators: Validators.required,\n        nonNullable: true\n      })\n    });\n    get isEmailValid() {\n      const control = this.form.get('email');\n      const isInvalid = control?.invalid && control.touched;\n      if (isInvalid) {\n        return control.hasError('required') ? 'This field is required' : 'Enter a valid email';\n      }\n      return false;\n    }\n    logIn() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (_this.form.invalid) return;\n        const credential = {\n          email: _this.form.value.email || '',\n          password: _this.form.value.password || ''\n        };\n        try {\n          yield _this.authService.logInWithEmailAndPassword(credential);\n          const snackBarRef = _this.openSnackBar();\n          snackBarRef.afterDismissed().subscribe(() => {\n            _this.router.navigateByUrl('/');\n          });\n        } catch (error) {\n          console.error(error);\n        }\n      })();\n    }\n    openSnackBar() {\n      return this._snackBar.open('Successfully Logged in ðŸ˜€', 'Close', {\n        duration: 2500,\n        verticalPosition: 'top',\n        horizontalPosition: 'end'\n      });\n    }\n    static Éµfac = function LogInComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LogInComponent)();\n    };\n    static Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: LogInComponent,\n      selectors: [[\"app-log-in\"]],\n      standalone: true,\n      features: [i0.ÉµÉµStandaloneFeature],\n      decls: 32,\n      vars: 7,\n      consts: [[1, \"form\"], [1, \"form__container\"], [3, \"ngSubmit\", \"formGroup\"], [\"matInput\", \"\", \"formControlName\", \"email\"], [4, \"ngIf\"], [\"matInput\", \"\", \"formControlName\", \"password\", 3, \"type\"], [\"mat-icon-button\", \"\", \"matSuffix\", \"\", 3, \"click\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", \"type\", \"submit\"], [1, \"small-text\", \"providers\"], [3, \"isLogin\"], [1, \"small-text\", \"log-in-redirect\"], [\"routerLink\", \"/auth/sign-up\"]],\n      template: function LogInComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ÉµÉµtext(3, \"Log in\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(4, \"form\", 2);\n          i0.ÉµÉµlistener(\"ngSubmit\", function LogInComponent_Template_form_ngSubmit_4_listener() {\n            return ctx.logIn();\n          });\n          i0.ÉµÉµelementStart(5, \"div\")(6, \"mat-form-field\")(7, \"mat-label\");\n          i0.ÉµÉµtext(8, \"Email\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelement(9, \"input\", 3);\n          i0.ÉµÉµtemplate(10, LogInComponent_mat_error_10_Template, 2, 1, \"mat-error\", 4);\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(11, \"div\")(12, \"mat-form-field\")(13, \"mat-label\");\n          i0.ÉµÉµtext(14, \"Enter your password\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelement(15, \"input\", 5);\n          i0.ÉµÉµelementStart(16, \"button\", 6);\n          i0.ÉµÉµlistener(\"click\", function LogInComponent_Template_button_click_16_listener() {\n            return ctx.hide = !ctx.hide;\n          });\n          i0.ÉµÉµelementStart(17, \"mat-icon\");\n          i0.ÉµÉµtext(18);\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(19, \"mat-error\");\n          i0.ÉµÉµtext(20, \"This field is required\");\n          i0.ÉµÉµelementEnd()()();\n          i0.ÉµÉµelementStart(21, \"div\")(22, \"button\", 7);\n          i0.ÉµÉµtext(23, \"Log in\");\n          i0.ÉµÉµelementEnd()()();\n          i0.ÉµÉµelement(24, \"hr\");\n          i0.ÉµÉµelementStart(25, \"span\", 8);\n          i0.ÉµÉµtext(26, \"Have Google or GitHub?\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelement(27, \"app-button-providers\", 9);\n          i0.ÉµÉµelementStart(28, \"span\", 10);\n          i0.ÉµÉµtext(29, \"Don\\u2019t have an account yet? \");\n          i0.ÉµÉµelementStart(30, \"a\", 11);\n          i0.ÉµÉµtext(31, \"Sign up\");\n          i0.ÉµÉµelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance(4);\n          i0.ÉµÉµproperty(\"formGroup\", ctx.form);\n          i0.ÉµÉµadvance(6);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.isEmailValid);\n          i0.ÉµÉµadvance(5);\n          i0.ÉµÉµproperty(\"type\", ctx.hide ? \"password\" : \"text\");\n          i0.ÉµÉµadvance();\n          i0.ÉµÉµattribute(\"aria-label\", \"Hide password\")(\"aria-pressed\", ctx.hide);\n          i0.ÉµÉµadvance(2);\n          i0.ÉµÉµtextInterpolate(ctx.hide ? \"visibility_off\" : \"visibility\");\n          i0.ÉµÉµadvance(9);\n          i0.ÉµÉµproperty(\"isLogin\", true);\n        }\n      },\n      dependencies: [MatFormFieldModule, i1.MatFormField, i1.MatLabel, i1.MatError, i1.MatSuffix, MatInputModule, i2.MatInput, MatIconModule, i3.MatIcon, MatButtonModule, i4.MatButton, i4.MatIconButton, RouterModule, i5.RouterLink, ReactiveFormsModule, i6.ÉµNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.FormControlName, CommonModule, i7.NgIf, ButtonProviders]\n    });\n  }\n  return LogInComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}